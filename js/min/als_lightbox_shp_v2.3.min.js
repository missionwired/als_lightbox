var alsLightbox=function(){var e;alsLightbox.thisScriptID="als_lightbox_js",alsLightbox.thisScript=document.querySelector('script[data-id="'+alsLightbox.thisScriptID+'"], #'+alsLightbox.thisScriptID),alsLightbox.config={},alsLightbox.config.available={iframeURL:["iframe-url","iframeURL"],maxWidth:["max-width","maxWidth"],maxHeight:["max-height","maxHeight"],startDate:["start-date","startDate"],endDate:["end-date","endDate"],cookieName:["cookie-name","cookieName"],cookieDuration:["cookie-duration","cookieDuration"],configFile:["configFile"],supplementalCSS:["supplementalCSS"],testMode:["test-mode","testMode"],killSwitch:["killSwitch"],blacklist:["blacklist"],exitIntent:["exitIntent"]},alsLightbox.config.paths={jQuery:"https://code.jquery.com/jquery-latest.min.js",fancybox3_js:"https://s3.amazonaws.com/annelewisllc/lightbox/src/bower_components/fancybox/source/jquery.fancybox3.als.js",fancybox3_css:"https://s3.amazonaws.com/annelewisllc/lightbox/src/bower_components/fancybox/source/jquery.fancybox3.css",als_lightbox_css:"https://s3.amazonaws.com/annelewisllc/lightbox/src/css/als_lightbox.css"},alsLightbox.config.external={},alsLightbox.config.active={},alsLightbox.setActiveConfig=function(){if((e=>{for(var t in e)if(e.hasOwnProperty(t))return;return 1})(alsLightbox.config.external))for(var e in alsLightbox.config.available)for(var t=0;t<alsLightbox.config.available[e].length&&(alsLightbox.config.active[e]=alsLightbox.thisScript.getAttribute("data-"+alsLightbox.config.available[e][t]),!alsLightbox.config.active[e]);t++);else alsLightbox.config.active=alsLightbox.config.external},alsLightbox.launch=function(){var e,t,i,a,o;function g(e,t,i){var a,o="",o=i?((a=new Date).setTime(a.getTime()+24*i*60*60*1e3),"; expires="+a.toGMTString()):"";document.cookie=e+"="+t+o+"; path=/"}function h(e){for(var t=e+"=",i=document.cookie.split(";"),a=0;a<i.length;a++){for(var o=i[a];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}}function n(e){"function"==typeof e.fancybox3?(c(e),s(e)):e.getScript(alsLightbox.config.paths.fancybox3_js,function(){c(e),s(e)})}function c(e){e('link[href$="jquery.fancybox3.css"]').length||((e=document.createElement("link")).rel="stylesheet",e.type="text/css",e.media="screen",e.href=alsLightbox.config.paths.fancybox3_css,e.id="als_fancybox3_base_style_tag",document.getElementsByTagName("head")[0].appendChild(e))}function s(t){var e=document.createElement("link"),e=(e.rel="stylesheet",e.type="text/css",e.media="all",e.href=alsLightbox.config.paths.als_lightbox_css,document.getElementsByTagName("head")[0].appendChild(e),alsLightbox.config.active.supplementalCSS&&((e=document.createElement("link")).rel="stylesheet",e.type="text/css",e.media="all",e.href=alsLightbox.config.active.supplementalCSS,document.getElementsByTagName("head")[0].appendChild(e)),window.addEventListener?"addEventListener":"attachEvent");function a(){t("body").hasClass("on-mobile-device")&&!t("body").hasClass("on-mobile-device-triggered")&&s()<-150&&(t("#als_lightbox").trigger("click"),g(alsLightbox.config.active.cookieName,1,alsLightbox.config.active.cookieDuration),t("body").removeClass("on-mobile-device"),t("body").addClass("on-mobile-device-triggered"))}(0,window[e])("attachEvent"==e?"onmessage":"message",function(e){"fancybox3.close"===e.data&&t.fancybox3.close()},!1);l();var i,o,n,c,s=function(){return o=window.scrollY,null!=i&&(c=o-i),i=o,clearTimeout(n),n=setTimeout(l,50),c};function l(){i=null,c=0}t(document).ready(function(e){e("body").prepend('<div id="als_lightbox" style="display:none;"></div>'),e(document).on("touchstart",function(){h(alsLightbox.config.active.cookieName)?e("body").addClass("on-mobile-device-triggered"):e("body").addClass("on-mobile-device")});var t,i=new Date;alsLightbox.config.active.cookieName||(alsLightbox.config.active.cookieName="als_lightbox"),alsLightbox.config.active.cookieDuration||(alsLightbox.config.active.cookieDuration=1),alsLightbox.config.active.startDate||(alsLightbox.config.active.startDate="January 1, 1970 00:00:00"),alsLightbox.config.active.endDate||(alsLightbox.config.active.endDate="January 1, 2038 00:00:00"),alsLightbox.config.active.exitIntent||(alsLightbox.config.active.exitIntent=!1),e("#als_lightbox").fancybox3({openEffect:"fade",closeEffect:"fade",openSpeed:500,closeSpeed:250,margin:0,padding:0,closeBtn:!0,autoSize:!0,autoScale:!1,wrapCSS:"als_fancybox3",scrollOutside:!0,scrolling:"no",maxHeight:alsLightbox.config.active.maxHeight,maxWidth:alsLightbox.config.active.maxWidth,height:"100%",width:"100%",href:(t=alsLightbox.config.active.iframeURL,window.ga&&ga(function(e){e=new window.gaplugins.Linker(e);t=e.decorate(t)}),t),type:"iframe",helpers:{overlay:{locked:!0,closeClick:!0}},tpl:{wrap:'<div class="als-fancybox3-wrap fancybox3-wrap" tabIndex="-1"><div class="als-fancybox3-skin fancybox3-skin"><div class="fancybox3-outer"><div class="fancybox3-inner als-fancybox3-inner"></div></div></div></div>'}}),(!h(alsLightbox.config.active.cookieName)&&i>new Date(alsLightbox.config.active.startDate)&&i<new Date(alsLightbox.config.active.endDate)||1<=alsLightbox.config.active.testMode||"true"===alsLightbox.config.active.testMode)&&(alsLightbox.config.active.exitIntent?(e(document).on("scroll",a),e(document).one("mouseleave",function(){e("#als_lightbox").trigger("click"),g(alsLightbox.config.active.cookieName,1,alsLightbox.config.active.cookieDuration)})):(e("#als_lightbox").trigger("click"),g(alsLightbox.config.active.cookieName,1,alsLightbox.config.active.cookieDuration)))})}alsLightbox.config.active.killSwitch||(e=alsLightbox.config.active.blacklist)&&0<e.length&&(e=new RegExp("("+e.join(")|(")+")","i"),null!==window.location.href.match(e))||("undefined"==typeof jQuery||jQuery.fn.jquery<"1.6"?(e=alsLightbox.config.paths.jQuery,t=function(){"undefined"!=typeof jQuery&&(alsLightbox.jQuery=jQuery.noConflict(!0),n(alsLightbox.jQuery))},(i=document.createElement("script")).src=e,a=document.getElementsByTagName("head")[0],o=!1,i.onload=i.onreadystatechange=function(){o||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(o=!0,t(),i.onload=i.onreadystatechange=null,a.removeChild(i))},a.appendChild(i)):(alsLightbox.jQuery=jQuery,n(alsLightbox.jQuery)))},alsLightbox.config.active.configFile=alsLightbox.thisScript.getAttribute("data-configFile")?alsLightbox.thisScript.getAttribute("data-configFile"):"",alsLightbox.config.active.configFile?((e=new XMLHttpRequest).open("GET",encodeURI(alsLightbox.config.active.configFile)),e.onload=function(){200===e.status&&(alsLightbox.config.external=JSON.parse(e.responseText)),alsLightbox.setActiveConfig(),alsLightbox.launch()},e.send()):(alsLightbox.setActiveConfig(),alsLightbox.launch())};try{Drupal.behaviors.alsLightbox={attach:function(){alsLightbox()}}}catch(e){alsLightbox()}
//# sourceMappingURL=als_lightbox_shp_v2.3.min.js.map