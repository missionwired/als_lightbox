var alsLightbox=function(){var t;alsLightbox.thisScriptID="als_lightbox_js",alsLightbox.thisScript=document.querySelector('script[data-id="'+alsLightbox.thisScriptID+'"], #'+alsLightbox.thisScriptID),alsLightbox.config={},alsLightbox.config.available={iframeURL:["iframe-url","iframeURL"],maxWidth:["max-width","maxWidth"],maxHeight:["max-height","maxHeight"],startDate:["start-date","startDate"],endDate:["end-date","endDate"],cookieName:["cookie-name","cookieName"],cookieDuration:["cookie-duration","cookieDuration"],configFile:["configFile"],supplementalCSS:["supplementalCSS"],testMode:["test-mode","testMode"],killSwitch:["killSwitch"],blacklist:["blacklist"]},alsLightbox.config.paths={jQuery:"https://code.jquery.com/jquery-latest.min.js",fancybox2_js:"https://s3.amazonaws.com/annelewisllc/lightbox/src/bower_components/fancybox/source/jquery.fancybox2.als.js",fancybox2_css:"https://s3.amazonaws.com/annelewisllc/lightbox/src/bower_components/fancybox/source/jquery.fancybox2.css",als_lightbox_css:"https://s3.amazonaws.com/annelewisllc/lightbox/src/css/als_lightbox.css"},alsLightbox.config.external={},alsLightbox.config.active={},alsLightbox.setActiveConfig=function(){if(function(t){for(var e in t)if(t.hasOwnProperty(e))return;return 1}(alsLightbox.config.external))for(var t in alsLightbox.config.available)for(var e=0;e<alsLightbox.config.available[t].length&&(alsLightbox.config.active[t]=alsLightbox.thisScript.getAttribute("data-"+alsLightbox.config.available[t][e]),!alsLightbox.config.active[t]);e++);else alsLightbox.config.active=alsLightbox.config.external},alsLightbox.launch=function(){var t;function e(t){"function"==typeof t.fancybox2?(a(t),i(t)):t.getScript(alsLightbox.config.paths.fancybox2_js,function(){a(t),i(t)})}function a(t){t('link[href$="jquery.fancybox2.css"]').length||((t=document.createElement("link")).rel="stylesheet",t.type="text/css",t.media="screen",t.href=alsLightbox.config.paths.fancybox2_css,t.id="als_fancybox2_base_style_tag",document.getElementsByTagName("head")[0].appendChild(t))}function i(e){var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.media="all",t.href=alsLightbox.config.paths.als_lightbox_css,document.getElementsByTagName("head")[0].appendChild(t),alsLightbox.config.active.supplementalCSS&&((a=document.createElement("link")).rel="stylesheet",a.type="text/css",a.media="all",a.href=alsLightbox.config.active.supplementalCSS,document.getElementsByTagName("head")[0].appendChild(a));var a=window.addEventListener?"addEventListener":"attachEvent";(0,window[a])("attachEvent"==a?"onmessage":"message",function(t){"fancybox2.close"===t.data&&e.fancybox2.close()},!1),e(document).ready(function(t){t("body").prepend('<div id="als_lightbox" style="display:none;"></div>');var e,a,i,o,n=new Date;alsLightbox.config.active.cookieName||(alsLightbox.config.active.cookieName="als_lightbox"),alsLightbox.config.active.cookieDuration||(alsLightbox.config.active.cookieDuration=1),alsLightbox.config.active.startDate||(alsLightbox.config.active.startDate="January 1, 1970 00:00:00"),alsLightbox.config.active.endDate||(alsLightbox.config.active.endDate="January 1, 2038 00:00:00"),t("#als_lightbox").fancybox2({openEffect:"fade",closeEffect:"fade",openSpeed:500,closeSpeed:250,margin:0,padding:0,closeBtn:!0,autoSize:!0,autoScale:!1,wrapCSS:"als_fancybox2",scrollOutside:!0,scrolling:"no",maxHeight:alsLightbox.config.active.maxHeight,maxWidth:alsLightbox.config.active.maxWidth,height:"100%",width:"100%",href:(e=alsLightbox.config.active.iframeURL,window.ga&&ga(function(t){t=new window.gaplugins.Linker(t);e=t.decorate(e)}),e),type:"iframe",helpers:{overlay:{locked:!0,closeClick:!0}},tpl:{wrap:'<div class="als-fancybox2-wrap fancybox2-wrap" tabIndex="-1"><div class="als-fancybox2-skin fancybox2-skin"><div class="fancybox2-outer"><div class="fancybox2-inner als-fancybox2-inner"></div></div></div></div>'}}),(!function(t){for(var e=t+"=",a=document.cookie.split(";"),i=0;i<a.length;i++){for(var o=a[i];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(e))return o.substring(e.length,o.length)}}(alsLightbox.config.active.cookieName)&&n>new Date(alsLightbox.config.active.startDate)&&n<new Date(alsLightbox.config.active.endDate)||1<=alsLightbox.config.active.testMode||"true"===alsLightbox.config.active.testMode)&&(t("#als_lightbox").trigger("click"),a=alsLightbox.config.active.cookieName,i=1,o=alsLightbox.config.active.cookieDuration,n="",n=o?((t=new Date).setTime(t.getTime()+24*o*60*60*1e3),"; expires="+t.toGMTString()):"",document.cookie=a+"="+i+n+"; path=/")})}alsLightbox.config.active.killSwitch||(t=alsLightbox.config.active.blacklist)&&0<t.length&&(t=new RegExp("("+t.join(")|(")+")","i"),null!==window.location.href.match(t))||("undefined"==typeof jQuery||jQuery.fn.jquery<"1.6"?function(t,e){var a=document.createElement("script");a.src=t;var i=document.getElementsByTagName("head")[0],o=!1;a.onload=a.onreadystatechange=function(){o||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(o=!0,e(),a.onload=a.onreadystatechange=null,i.removeChild(a))},i.appendChild(a)}(alsLightbox.config.paths.jQuery,function(){"undefined"==typeof jQuery||(alsLightbox.jQuery=jQuery.noConflict(!0),e(alsLightbox.jQuery))}):(alsLightbox.jQuery=jQuery,e(alsLightbox.jQuery)))},alsLightbox.config.active.configFile=alsLightbox.thisScript.getAttribute("data-configFile")?alsLightbox.thisScript.getAttribute("data-configFile"):"",alsLightbox.config.active.configFile?((t=new XMLHttpRequest).open("GET",encodeURI(alsLightbox.config.active.configFile)),t.onload=function(){200===t.status&&(alsLightbox.config.external=JSON.parse(t.responseText)),alsLightbox.setActiveConfig(),alsLightbox.launch()},t.send()):(alsLightbox.setActiveConfig(),alsLightbox.launch())};try{Drupal.behaviors.alsLightbox={attach:function(){alsLightbox()}}}catch(t){alsLightbox()}
//# sourceMappingURL=als_lightbox_shp.min.js.map